(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){},40:function(e,t,a){e.exports=a(89)},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),o=a.n(s),l=(a(45),a(36)),c=a(8),i=a(9),u=a(12),m=a(10),d=a(13),p=a(15),h=a(37),g=a(19),v=a(11),f=a(14),b=(a(26),a(6)),w=a.n(b),E=a(38),y="http://139.59.81.93:8000/api/",_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleResponse=function(e){e.result?(localStorage.setItem("token",e.token),a.setState({user_details:e.data,errorState:!1}),window.location.reload()):a.setState({error:e.errors[0],errorState:!0})},a.submitHandler=function(e){e.preventDefault();var t=a.state.register;e.target.className+=" was-validated",e.target.checkValidity()&&(t?w.a.post("".concat(y,"user/register/"),{name:a.state.name,password:a.state.password,repassword:a.state.repassword}).then(function(e){var t=e.data;a.handleResponse(t)}).catch(function(e){console.log(e)}):w.a.post("".concat(y,"user/login/"),{name:a.state.name,password:a.state.password,repassword:a.state.repassword}).then(function(e){var t=e.data;a.handleResponse(t)}).catch(function(e){console.log(e)}))},a.changeHandler=function(e){a.setState(Object(f.a)({},a.state,Object(v.a)({},e.target.name,e.target.value)))},a.state={name:"",password:"",repassword:"",user_details:{},register:!0,loggedIn:!1,errorState:!1,error:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.register,n=t.errorState,s=t.error;return r.a.createElement("div",{className:"col-lg-4 offset-lg-4 main-page"},r.a.createElement("div",{className:"register-div"},r.a.createElement("h1",null," ",a?"Register":"Login"," "),r.a.createElement("form",{onSubmit:this.submitHandler,className:"",noValidate:!0},r.a.createElement(E.Row,null,r.a.createElement("div",{className:"col-12 input-div"},r.a.createElement("input",{value:this.state.name,name:"name",onChange:this.changeHandler,type:"text",id:"defaultFormRegisterNameEx",className:"form-control",placeholder:"Name",required:!0}),r.a.createElement("div",{className:"invalid-feedback "},"This field cannot be empty.")),r.a.createElement("div",{className:"col-12 input-div"},r.a.createElement("input",{value:this.state.password,name:"password",onChange:this.changeHandler,type:"password",id:"defaultFormRegisterPassEx",className:"form-control",placeholder:"Password",required:!0}),r.a.createElement("div",{className:"invalid-feedback "},"This field cannot be empty.")),a?r.a.createElement("div",{className:"col-12 input-div"},r.a.createElement("input",{value:this.state.repassword,name:"repassword",onChange:this.changeHandler,type:"password",id:"defaultFormRegisterRepassEx",className:"form-control",placeholder:"Re Password",required:!0}),r.a.createElement("div",{className:"invalid-feedback "},"This field cannot be empty.")):null,r.a.createElement("button",{className:"btn btn-unique button-class",type:"submit"},"Submit"),r.a.createElement("span",{className:"login-register",onClick:function(){return e.setState({register:!a})}}," ",a?"Already registered login?":"Register?"," ")))),n?r.a.createElement("span",{className:"error-value"},s):null)}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).allUserApiCall=function(){var e=localStorage.getItem("token");w.a.post("".concat(y,"user/all_users/"),{token:e}).then(function(t){var n=t.data;n.result?a.setState({all_users:n.data,token:e,errorState:!1}):a.setState({error:n.errors[0],errorState:!0})})},a.submitHandler=function(e,t){e.preventDefault();var n=a.state,r=n.token,s=n.guessword;e.target.className+=" was-validated",e.target.checkValidity()&&w.a.post("".concat(y,"guessedword/start_game/"),{token:r,guesser_id:t,guess_word:s[t]}).then(function(e){var n=e.data;n.result?(localStorage.setItem("co_user_id",t),a.setState({errorState:!1}),window.location.reload()):a.setState({error:n.errors[0],errorState:!0})}).catch(function(e){console.log(e)})},a.changeHandler=function(e,t){a.setState(Object(f.a)({},a.state,{guessword:Object(v.a)({},t,e.target.value)}))},a.state={all_users:[],guessword:{},token:"",errorState:!1,error:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.allUserApiCall()}},{key:"render",value:function(){var e=this,t=this.state,a=t.all_users,n=t.errorState,s=t.error;return console.log(this),r.a.createElement("div",{className:"list-users-page"},r.a.createElement("h1",null,"List of available users to play"),r.a.createElement("h5",null,"give them a word to guess"),a.map(function(t){return r.a.createElement("div",{className:"card col-12"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},t.name),r.a.createElement("form",{onSubmit:function(a){return e.submitHandler(a,t.pk)},noValidate:!0},r.a.createElement("input",{onChange:function(a){return e.changeHandler(a,t.pk)},name:"guessword",className:"form-control",placeholder:"type word here",value:e.state.guessword[t.id],required:!0}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Ask"))))}),n?r.a.createElement("p",{className:"error-value"},s):null)}}]),t}(n.Component),S=(a(85),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).apiCall=function(){var e=localStorage.getItem("token");w.a.post("".concat(y,"yesnoquestion/list_question_guessed_words/"),{token:e}).then(function(t){var n=t.data;console.log("data",n),n.result?a.setState({winner:n.winner,all_question:n.all_question,can_ask_question:n.can_ask_question,all_answer:n.all_answer,token:e,guess_word_id:n.guess_word_id,errorState:!1}):a.setState({error:n.errors[0],errorState:!0})})},a.submitHandler=function(e,t){e.preventDefault();var n=a.state,r=n.token,s=n.answer,o=n.guess_word_id,l=n.question;e.target.className+=" was-validated",e.target.checkValidity()&&("question"===t?w.a.post("".concat(y,"yesnoquestion/ask_question/"),{token:r,guess_word_id:o,question:l}).then(function(e){var t=e.data;t.result?(a.apiCall(),a.setState({errorState:!1})):a.setState({error:t.errors[0],errorState:!0}),console.log(t)}).catch(function(e){console.log(e)}):"answer"===t&&w.a.post("".concat(y,"yesnoquestion/submit_answer/"),{token:r,guess_word_id:o,guess_answer:s}).then(function(e){var t=e.data;1===t.result?(a.apiCall(),a.setState({errorState:!1})):2===t.result?window.location.reload():a.setState({error:t.errors[0],errorState:!0}),console.log(t)}).catch(function(e){console.log(e)}))},a.changeHandler=function(e,t){a.setState(Object(f.a)({},a.state,Object(v.a)({},t,e.target.value)))},a.state={all_question:[],all_answer:[],active_question:{},token:"",question:"",answer:"",guess_word_id:"",errorState:!1,error:!1,winner:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.apiCall()}},{key:"endGame",value:function(){var e=localStorage.getItem("token");w.a.post("".concat(y,"yesnoquestion/end_game/"),{token:e}).then(function(e){window.location.reload()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.all_question,n=t.all_answer,s=t.can_ask_question,o=t.errorState,l=t.error,c=t.winner;return r.a.createElement("div",{className:"main-page row"},c?r.a.createElement("div",null," ",r.a.createElement("p",null,"winner of last game was ",c)," ",r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.endGame()}}," Okay ")):r.a.createElement("div",null,r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("h1",null,"List of available question asked"),r.a.createElement("h5",null,"ask yes no question ( ",a.length,"/ 20)"),a.map(function(e,t){return r.a.createElement("div",{className:"card col-12"},r.a.createElement("div",{className:"card-body"},t+1,". ",r.a.createElement("h3",{className:"card-text"},e.question),r.a.createElement("h6",{className:"card-text"},e.response)))}),s?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.submitHandler(t,"question")}},r.a.createElement("input",{onChange:function(t){return e.changeHandler(t,"question")},name:"question",className:"form-control",placeholder:"type question here",value:this.state.question,required:!0}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"}," Submit "))):null),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("h1",null,"List of available guessed word submitted"),n.map(function(e){return r.a.createElement("div",{className:"card col-12"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"card-text"},e.guessedanswer)))}),r.a.createElement("h5",null,"you can submit your answer anytime"),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.submitHandler(t,"answer")}},r.a.createElement("input",{onChange:function(t){return e.changeHandler(t,"answer")},name:"answer",className:"form-control",placeholder:"type answer here",value:this.state.answer,required:!0}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"}," Submit ")))),o?r.a.createElement("p",{className:"error-value"},l):null))}}]),t}(n.Component)),N=(a(86),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).apiCall=function(){var e=localStorage.getItem("token");w.a.post("".concat(y,"yesnoquestion/list_questions/"),{token:e}).then(function(t){var n=t.data;console.log("data",n);var r={};n.result?(n.data.yes_no_question&&(r=n.data.yes_no_question[0]),a.setState({winner:n.winner,guess_word:n.data.guessed_word.word,all_question:n.data.responded_yes_no_question,new_question:r,token:e,errorState:!1})):a.setState({error:n.errors[0],errorState:!0})})},a.submitHandler=function(e,t){var n=a.state.token;w.a.post("".concat(y,"yesnoquestion/respond_to_question/"),{token:n,question_id:e,given_response:t}).then(function(e){var t=e.data;console.log(t),t.result?(a.apiCall(),a.setState({errorState:!1})):a.setState({error:t.errors[0],errorState:!0})}).catch(function(e){console.log(e)})},a.changeHandler=function(e,t){a.setState(Object(f.a)({},a.state,{guessword:Object(v.a)({},t,e.target.value)}))},a.state={all_question:[],active_question:{},token:"",new_question:{},errorState:!1,error:!1,winner:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.apiCall()}},{key:"endGame",value:function(){var e=localStorage.getItem("token");w.a.post("".concat(y,"yesnoquestion/end_game/"),{token:e}).then(function(e){window.location.reload()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.all_question,n=t.new_question,s=t.guess_word,o=t.errorState,l=t.error,c=t.winner;return console.log(),r.a.createElement("div",{className:"col-lg-6 offset-lg-3 question-page"},c?r.a.createElement("div",null," ",r.a.createElement("p",null,"winner of last game is ",c)," ",r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.endGame()}}," Okay ")):r.a.createElement("div",null,r.a.createElement("h1",null,"List of available questions asked"),r.a.createElement("h4",null,'Given word was "',s,'"'),r.a.createElement("h5",null,"New question available ( ",a.length,"/ 20)"),a.map(function(e,t){return r.a.createElement("div",{className:"card col-12"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-text"},t+1,". ",e.question),r.a.createElement("p",null,"Response ",e.response)))}),Object.getOwnPropertyNames(n).length>0?r.a.createElement("div",{className:"card col-12"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},n.question),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.submitHandler(n.pk,"yes")},className:"btn btn-primary"},"Yes"),r.a.createElement("button",{onClick:function(){return e.submitHandler(n.pk,"no")},className:"btn btn-primary"},"No")))):null),o?r.a.createElement("p",{className:"error-value"},l):null)}}]),t}(n.Component)),q=a(4),O=Object(q.a)(),j=function(){return r.a.createElement("main",null,r.a.createElement(p.a,{history:O},r.a.createElement(h.a,null,r.a.createElement(g.a,{exact:!0,path:"/",component:_}),r.a.createElement(g.a,{path:"/dashboard",component:k}),r.a.createElement(g.a,{path:"/yes-no-question",component:N}),r.a.createElement(g.a,{path:"/submit-answer",component:S}))))},C=(a(87),a(88),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.verifyUser()}},{key:"verifyUser",value:function(){var e=this,t=localStorage.getItem("token");w.a.post("".concat(y,"user/verify_user/"),{token:t}).then(function(t){var a=t.data;e.handleTokenResponse(a)})}},{key:"handleTokenResponse",value:function(e){e.result?e.data.in_game?"ask"===e.data.user_type?this.props.history.push("/yes-no-question"):"guess"===e.data.user_type&&this.props.history.push("/submit-answer"):this.props.history.push("/dashboard"):this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement(j,null)}}]),t}(n.Component));o.a.render(r.a.createElement(l.a,null,r.a.createElement(C,{history:O})),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f2c75453.chunk.js.map